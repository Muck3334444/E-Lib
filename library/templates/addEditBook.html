{% extends "base.html" %}
{% block title %}{% if bookId %}Edit Book{% else %}Add Book{% endif %}{% endblock %}
{% block header %}{% endblock %}
{% block center %}
        <div class="container">
            <h1 class="my-4">{% if bookId %}Edit Book{% else %}Add a New Book{% endif %}</h1>
            <form method="post" enctype="multipart/form-data">
                {% csrf_token %}
                <div class="mb-3">
                    <label for="title">Title</label>
                    {{ form.title }}
                    <div class="form-text text-danger">{{ form.title.errors }}</div>
                </div>
                <div class="mb-3">
                    <label for="isbn">ISBN</label>
                    {{ form.isbn }}
                    <div class="form-text text-danger">{{ form.isbn.errors }}</div>
                </div>
                <div class="mb-3">
                    <label for="price">Price</label>
                    {{ form.price }}
                    <div class="form-text text-danger">{{ form.price.errors }}</div>
                </div>
                <div class="mb-3">
                    <label for="summary">Summary</label>
                    {{ form.summary }}
                    <div class="form-text text-danger">{{ form.summary.errors }}</div>
                </div>
                <div class="mb-3">
                    <label for="image">Cover Image</label>
                    {{ form.image }}
                    <div class="form-text text-danger">{{ form.image.errors }}</div>
                </div>
                
                {% if form.instance and form.instance.image %}
                    <div class="mb-3">
                        <img src="{{ form.instance.image.url }}" alt="Book Cover" class="img-fluid">
                    </div>
                {% endif %}
                <button type="submit" class="btn btn-primary">
                    {% if bookId %}Update Book{% else %}Add Book{% endif %}
                </button>
                <a href="{% url 'books-storage' %}" class="btn btn-secondary">Cancel</a>
            </form>
        </div>
{% endblock %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

